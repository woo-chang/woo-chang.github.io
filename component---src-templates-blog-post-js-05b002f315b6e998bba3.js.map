{"version":3,"sources":["webpack:///./node_modules/react-disqus-comments/build/main.js","webpack:///./node_modules/react-disqus-comments/build/components/DisqusThread.js","webpack:///./node_modules/core-js/modules/es6.number.max-safe-integer.js","webpack:///./src/components/elements/hr/index.jsx","webpack:///./src/components/post-title/index.jsx","webpack:///./src/components/post-date/index.jsx","webpack:///./src/components/post-container/index.jsx","webpack:///./src/components/social-share/facebook-icon/index.jsx","webpack:///./src/components/social-share/twitter-icon/index.jsx","webpack:///./src/components/social-share/index.jsx","webpack:///./src/utils/share.js","webpack:///./src/components/sponsor-button/index.jsx","webpack:///./src/components/post-navigator/index.jsx","webpack:///./src/components/disqus/index.jsx","webpack:///./src/components/utterances/index.jsx","webpack:///./src/utils/toc.js","webpack:///./src/templates/blog-post.js"],"names":["module","exports","Object","defineProperty","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","DISQUS_CONFIG","__disqusAdded","copyProps","context","onNewComment","language","rest","keys","indexOf","_objectWithoutProperties","prop","page","callbacks","DisqusThread","_React$Component","this","__proto__","getPrototypeOf","apply","subClass","superClass","create","constructor","setPrototypeOf","_inherits","loadDisqus","nextProps","nextState","identifier","_this2","reduce","memo","some","config","_defineProperty","createElement","id","child","disqus","document","parent","getElementsByTagName","async","type","src","shortname","appendChild","_this3","forEach","DISQUS","reset","reload","url","replace","window","disqus_config","addDisqusScript","Component","displayName","propTypes","string","isRequired","title","category_id","func","defaultProps","location","href","$export","S","MAX_SAFE_INTEGER","Hr","className","PostTitle","PostDate","date","PostContainer","html","dangerouslySetInnerHTML","__html","FacebookIcon","onClick","rel","aria-label","aria-hidden","xmlns","viewBox","d","TwitterIcon","SocialShare","text","author","e","preventDefault","FB","ui","method","mobile_iframe","quote","shareToFacebook","open","encodeURI","shareToTwitter","SponsorButton","sponsorId","alt","PostNavigator","pageContext","previous","next","to","fields","slug","frontmatter","Disqus","state","toasts","notifyAboutComment","bind","onSnackbarDismiss","setState","slice","push","render","post","shortName","siteUrl","Utterances","repo","rootElm","React","createRef","useEffect","isDarkTheme","Dom","THEME","DARK","utterances","utterancesConfig","branch","theme","label","crossorigin","configKey","setAttribute","current","ref","tocCardController","TocCardController","TocCardService","CONSTANTS","indexOfH1","indexOfH2","indexOfH3","indexOfH4","levelsByH1","Map","levelsByH2","levelsByH3","levelsByH4","TOC_CARD","tocCardService","init","levelMap","checkExistenceOfHTags","initTocElementsCard","giveIdToHTags","getLevelsByHighestTag","registerTagsOnToc","onscroll","tocTag","findCurrentHTag","markCurrentHTag","scrollToMainTocTag","detectTocCardPosition","tocElementsCard","querySelector","mainContents","hTags","querySelectorAll","filter","hTag","parentElement","classList","contains","findHighestHTag","pre","cur","parseInt","tagName","createTagItemByLevel","level","indexOfHTag","NUM_OF_H1","basicItem","createBasicItemBy","appendScrollEventsOn","add","hTagInnerText","innerText","includes","innerHTML","generateIdOfHTag","addEventListener","scrollTo","top","offsetTop","behavior","findCurrentMainHTag","headArea","headAreaHeight","offsetHeight","middleHeight","scrollY","innerHeight","findTocTagCorrespondingToHTag","currentHTag","parseIndexOfTag","tokens","split","removeAllClassOnTocTags","Array","children","remove","markParentHTagOf","indexOfTocTag","levelOfBaseTocTag","findLevelOfTocTag","compareLevelAndMark","indexOfCurrentTocTag","currentTocTag","classes","H1","H2","H3","hTagItem","matches","scroll","offsetParent","currentScrollTop","documentElement","scrollTop","footer","footerTop","Number","elementsCardBottom","controller","pageQuery","data","ScrollManager","markdownRemark","metaData","site","siteMetadata","comment","sponsor","disqusShortName","postTitle","description","excerpt","buyMeACoffeeId"],"mappings":"2LAEAA,EAAOC,QAAU,EAAQ,S,kCCAzB,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAERC,OAAOC,eAAeF,EAAS,aAAc,CAC3CG,OAAO,IAGT,IAAIC,EAAWH,OAAOI,QAAU,SAAUC,GACxC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVT,OAAOW,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGLS,EAAe,WACjB,SAASC,EAAiBV,EAAQW,GAChC,IAAK,IAAIV,EAAI,EAAGA,EAAIU,EAAMR,OAAQF,IAAK,CACrC,IAAIW,EAAaD,EAAMV,GACvBW,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDpB,OAAOC,eAAeI,EAAQY,EAAWP,IAAKO,IAIlD,OAAO,SAAUI,EAAaC,EAAYC,GAGxC,OAFID,GAAYP,EAAiBM,EAAYV,UAAWW,GACpDC,GAAaR,EAAiBM,EAAaE,GACxCF,GAdQ,GAoBfG,EAAUC,EAFD,EAAQ,SAMjBC,EAAcD,EAFD,EAAQ,SAIzB,SAASA,EAAuBE,GAC9B,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnC,QAAWA,GAmBf,SAASE,EAAgBC,EAAUT,GACjC,KAAMS,aAAoBT,GACxB,MAAM,IAAIU,UAAU,qCAIxB,SAASC,EAA2BC,EAAMpB,GACxC,IAAKoB,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOrB,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BoB,EAAPpB,EA+B5E,IAAIsB,EAAgB,CAAC,YAAa,aAAc,QAAS,MAAO,cAAe,eAAgB,YAC3FC,GAAgB,EAEpB,SAASC,EAAUC,EAAStB,GAC1B,IAAIuB,EAAevB,EAAMuB,aACrBC,EAAWxB,EAAMwB,SACjBC,EAlBN,SAAkCd,EAAKe,GACrC,IAAIrC,EAAS,GAEb,IAAK,IAAIC,KAAKqB,EACRe,EAAKC,QAAQrC,IAAM,GAClBN,OAAOW,UAAUC,eAAeC,KAAKc,EAAKrB,KAC/CD,EAAOC,GAAKqB,EAAIrB,IAGlB,OAAOD,EASIuC,CAAyB5B,EAAO,CAAC,eAAgB,aAE5D,IAAK,IAAI6B,KAAQJ,EACfH,EAAQQ,KAAKD,GAAQJ,EAAKI,GAI5BP,EAAQE,SAAWA,EAEfD,IACFD,EAAQS,UAAY,CAClBR,aAAc,CAACA,KAKrB,IAAIS,EAAe,SAAUC,GAG3B,SAASD,IAGP,OAFAnB,EAAgBqB,KAAMF,GAEfhB,EAA2BkB,MAAOF,EAAaG,WAAanD,OAAOoD,eAAeJ,IAAeK,MAAMH,KAAM3C,YAiFtH,OAzIF,SAAmB+C,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIxB,UAAU,kEAAoEwB,GAG1FD,EAAS3C,UAAYX,OAAOwD,OAAOD,GAAcA,EAAW5C,UAAW,CACrE8C,YAAa,CACXvD,MAAOoD,EACPpC,YAAY,EACZE,UAAU,EACVD,cAAc,KAGdoC,IAAYvD,OAAO0D,eAAiB1D,OAAO0D,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAsC3GI,CAAUX,EAAcC,GAQxBnC,EAAakC,EAAc,CAAC,CAC1BtC,IAAK,oBACLR,MAAO,WACLgD,KAAKU,eAEN,CACDlD,IAAK,qBACLR,MAAO,WACLgD,KAAKU,eAEN,CACDlD,IAAK,wBACLR,MAAO,SAA+B2D,EAAWC,GAC/C,OAAOD,EAAUE,aAAeb,KAAKlC,MAAM+C,aAE5C,CACDrD,IAAK,SACLR,MAAO,WACL,IAAI8D,EAASd,KAETlC,EAAQhB,OAAO0C,KAAKQ,KAAKlC,OAAOiD,QAAO,SAAUC,EAAMxD,GACzD,OAAOyB,EAAcgC,MAAK,SAAUC,GAClC,OAAOA,IAAW1D,KACfwD,EAAO/D,EAAS,GAAI+D,EA/GjC,SAAyBvC,EAAKjB,EAAKR,GAYjC,OAXIQ,KAAOiB,EACT3B,OAAOC,eAAe0B,EAAKjB,EAAK,CAC9BR,MAAOA,EACPgB,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZO,EAAIjB,GAAOR,EAGNyB,EAmG8B0C,CAAgB,GAAI3D,EAAKsD,EAAOhD,MAAMN,OACpE,IACH,OAAOc,EAAiB,QAAE8C,cAAc,MAAOtD,EAAOQ,EAAiB,QAAE8C,cAAc,MAAO,CAC5FC,GAAI,qBAGP,CACD7D,IAAK,kBACLR,MAAO,WACL,IAAIkC,EAAJ,CAIA,IAAIoC,EAAQtB,KAAKuB,OAASC,SAASJ,cAAc,UAC7CK,EAASD,SAASE,qBAAqB,QAAQ,IAAMF,SAASE,qBAAqB,QAAQ,GAC/FJ,EAAMK,OAAQ,EACdL,EAAMM,KAAO,kBACbN,EAAMO,IAAM,KAAO7B,KAAKlC,MAAMgE,UAAY,uBAC1CL,EAAOM,YAAYT,GACnBpC,GAAgB,KAEjB,CACD1B,IAAK,aACLR,MAAO,WACL,IAAIgF,EAAShC,KAETlC,EAAQ,GAEZmB,EAAcgD,SAAQ,SAAUtC,GAEjB,cAATA,GAA0BqC,EAAOlE,MAAM6B,KACzC7B,EAAM6B,GAAQqC,EAAOlE,MAAM6B,OAIT,oBAAXuC,OACTA,OAAOC,MAAM,CACXC,QAAQ,EACRlB,OAAQ,WACN/B,EAAUa,KAAMlC,GAEhBkC,KAAKJ,KAAKyC,IAAMrC,KAAKJ,KAAKyC,IAAIC,QAAQ,IAAK,IAAM,kBAKrDC,OAAOC,cAAgB,WACrBrD,EAAUa,KAAMlC,IAGlBkC,KAAKyC,uBAKJ3C,EAvFU,CAwFjBxB,EAAiB,QAAEoE,WAErB5C,EAAa6C,YAAc,eAC3B7C,EAAa8C,UAAY,CACvBvB,GAAI7C,EAAqB,QAAEqE,OAO3Bf,UAAWtD,EAAqB,QAAEqE,OAAOC,WAWzCjC,WAAYrC,EAAqB,QAAEqE,OAQnCE,MAAOvE,EAAqB,QAAEqE,OAS9BR,IAAK7D,EAAqB,QAAEqE,OAO5BG,YAAaxE,EAAqB,QAAEqE,OAOpCxD,aAAcb,EAAqB,QAAEyE,KAOrC3D,SAAUd,EAAqB,QAAEqE,QAEnC/C,EAAaoD,aAAe,CAC1Bb,IAAuB,oBAAXE,OAAyB,KAAOA,OAAOY,SAASC,MAE9DvG,EAAiB,QAAIiD,G,8CCrTrB,IAAIuD,EAAU,EAAQ,QAEtBA,EAAQA,EAAQC,EAAG,SAAU,CAAEC,iBAAkB,oB,wPCCpCC,G,UAAK,kBAAM,wBAAIC,UAAU,gB,wBCFzBC,EAAY,SAAC,GAAD,IAAGX,EAAH,EAAGA,MAAH,OAAe,4BAAKA,ICEhCY,G,UAAW,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACzB,OAAO,uBAAGH,UAAU,aAAaG,KCFtBC,G,UAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OAC3B,yBAAKL,UAAU,iBAAiBM,wBAAyB,CAAEC,OAAQF,OCAxDG,G,UAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,OAC1B,uBACET,UAAU,4BACVL,KAAK,IACLjG,OAAO,SACPgH,IAAI,WACJC,aAAW,oBACXF,QAASA,GAET,yBAAKT,UAAU,gFACb,yBACEY,cAAY,OACZZ,UAAU,8DAEV,yBAAKa,MAAM,6BAA6BC,QAAQ,aAC9C,0BAAMC,EAAE,mHAGZ,0BAAMf,UAAU,iBAAhB,yBClBOgB,G,UAAc,SAAC,GAAD,IAAGP,EAAH,EAAGA,QAAH,OACzB,uBACET,UAAU,4BACVL,KAAK,IACLe,IAAI,WACJC,aAAW,mBACXF,QAASA,GAET,yBAAKT,UAAU,+EACb,yBACEY,cAAY,OACZZ,UAAU,8DAEV,yBAAKa,MAAM,6BAA6BC,QAAQ,aAC9C,0BAAMC,EAAE,qcAGZ,0BAAMf,UAAU,iBAAhB,wBCdOiB,G,UAAc,SAAC,GAAuB,IAC3CC,EAAI,iBADsC,EAApB5B,MAClB,iBADsC,EAAb6B,OAcnC,OACE,yBAAKnB,UAAU,gBACb,kBAAC,EAAD,CAAcS,QAPU,SAAAW,GAE1B,OADAA,EAAEC,iBCjByB,SAAC1B,EAAMuB,GACpCpC,OAAOwC,GAAGC,GAAG,CACXC,OAAQ,QACRC,eAAe,EACf9B,OACA+B,MAAOR,IDaAS,CAAgB7C,OAAOY,SAASC,KAAMuB,MAM3C,kBAAC,EAAD,CAAaT,QAdU,SAAAW,GAGzB,OAFAA,EAAEC,iBCFwB,SAAC1B,EAAMuB,GACnCpC,OAAO8C,KAAP,iCACmCC,UAAUA,UAAUlC,IADvD,SACsEuB,EACpE,SACA,2CDAOY,CAAehD,OAAOY,SAASC,KAAMuB,SETnCa,G,UAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,UAAH,OAC3B,yBAAKhC,UAAU,kBACb,uBACEA,UAAU,aACVtG,OAAO,SACPgH,IAAI,sBACJf,KAAI,gCAAkCqC,GAEtC,yBACE5D,IAAI,2DACJ6D,IAAI,oBAEN,qD,wBCXOC,G,UAAgB,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YACtBC,EAAmBD,EAAnBC,SAAUC,EAASF,EAATE,KAElB,OACE,wBAAIrC,UAAU,aACZ,4BACGoC,GACC,kBAAC,OAAD,CAAME,GAAIF,EAASG,OAAOC,KAAM9B,IAAI,QAApC,KACK0B,EAASK,YAAYnD,QAI9B,4BACG+C,GACC,kBAAC,OAAD,CAAMC,GAAID,EAAKE,OAAOC,KAAM9B,IAAI,QAC7B2B,EAAKI,YAAYnD,MADpB,U,gLChBH,IAAMoD,EAAb,Y,UAAA,G,EAAA,G,6EAAA,I,IAAA,EACE,WAAYrI,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKsI,MAAQ,CAAEC,OAAQ,IACvB,EAAKC,mBAAqB,EAAKA,mBAAmBC,KAAxB,MAC1B,EAAKC,kBAAoB,EAAKA,kBAAkBD,KAAvB,MAJR,EADrB,2BAQEC,kBAAA,WAAqB,IACPH,EAAUrG,KAAKoG,MAAMC,OADf,SAElBrG,KAAKyG,SAAS,CAAEJ,YAVpB,EAaEC,mBAAA,WACE,IAAMD,EAASrG,KAAKoG,MAAMC,OAAOK,QACjCL,EAAOM,KAAK,CAAEhC,KAAM,4BACpB3E,KAAKyG,SAAS,CAAEJ,YAhBpB,EAmBEO,OAAA,WAAU,IAAD,EACoC5G,KAAKlC,MAAxC+I,EADD,EACCA,KAAMC,EADP,EACOA,UACRzE,EAFC,EACkB0E,QADlB,EAC2Bd,KAGlC,OACE,kBAAC,IAAD,CACEnE,UAAWgF,EACXjG,WAAYgG,EAAKX,YAAYnD,MAC7BA,MAAO8D,EAAKX,YAAYnD,MACxBV,IAAKA,EACLW,YAAa6D,EAAKX,YAAYlD,YAC9B3D,aAAcW,KAAKsG,sBA9B3B,GAA4B5D,a,wDCOfsE,EAAa,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACrBC,EAAUC,IAAMC,YAsBtB,OApBAC,qBAAU,WACR,IAAMC,EAAcC,IAAmBC,IAAMC,MACvCC,EAAalG,SAASJ,cAAc,UACpCuG,EAAmB,CACvB9F,IAZM,gCAaNoF,OACAW,OAbS,SAcTC,MAAOP,EAbM,cACC,eAadQ,MAAO,UACPnG,OAAO,EACP,aAAc,WACdoG,YAAa,aAGfjL,OAAO0C,KAAKmI,GAAkB1F,SAAQ,SAAA+F,GACpCN,EAAWO,aAAaD,EAAWL,EAAiBK,OAEtDd,EAAQgB,QAAQnG,YAAY2F,KAC3B,IAEI,yBAAKjE,UAAU,aAAa0E,IAAKjB,K,44BC1B1C,IAuXMkB,EAhUEC,EA0CAC,EA/FFC,EAwCG,CACLC,UAxCgB,EAyChBC,UAxCgB,EAyChBC,UAxCgB,EAyChBC,UAxCgB,EAyChBC,WAhCO,IAAIC,IAAI,CACb,CAbc,EAKF,GASZ,CAbc,EAKF,GASZ,CAbc,EAKF,GASZ,CAbc,EAKF,KAqCdC,WAxBO,IAAID,IAAI,CACb,CArBc,EAIF,GAkBZ,CArBc,EAIF,GAkBZ,CArBc,EAIF,KAuCdE,WAjBO,IAAIF,IAAI,CACb,CA5Bc,EAGF,GA0BZ,CA5Bc,EAGF,KAyCdG,WAXO,IAAIH,IAAI,CAAC,CAjCA,EAEF,MA8CLI,GACLZ,EAAoB,WACxB,IAAMa,EAAiB,IAAIZ,EAmC3B,MAAO,CACLa,KApBW,WACX,IANMC,EAMcF,EAAeG,0BAdnCH,EAAeI,sBAIfJ,EAAeK,gBAITH,EAAWF,EAAeM,wBAEhCN,EAAeO,kBAAkBL,KAwBjCM,SAZe,WACf,IAAMC,EAAST,EAAeU,kBAE1BD,IACFT,EAAeW,gBAAgBF,GAC/BT,EAAeY,mBAAmBH,GAClCT,EAAea,4BAUfzB,EAAiB,WACrB,IAAM0B,EAAkBxI,SAASyI,cAAc,iBAEzCC,EAAe1I,SAASyI,cApGH,mBAsGrBE,EAMG,EALYD,EACfA,EAAaE,iBAAiB,kBAC9B,IAGmBC,QACrB,SAAAC,GAAI,OAAKA,EAAKC,cAAcC,UAAUC,SAAS,uBAkC7CC,EAAkB,WACtB,OAAO,EAAIP,GAAOpJ,QAAO,SAAC4J,EAAKC,GAI7B,OAHoBC,SAASF,EAAIG,QAAQ,IACrBD,SAASD,EAAIE,QAAQ,IAENH,EAAMC,MAmBvCG,EAAuB,SAC3BC,EACAV,EACAW,QACA,IAHAD,MAAQzC,EAAU2C,WAIlB,IAAMC,EAAYC,EAAkBd,EAAMW,GAM1C,OAJAI,EAAqBF,EAAWF,GAEhCE,EAAUX,UAAUc,IAApB,aAAqCN,GAE9BG,GAGHC,EAAoB,SAASd,EAAMW,GACvC,IAAME,EAAY3J,SAASJ,cAAc,KACrCmK,EAAgBjB,EAAKkB,UAiBzB,OAdIlB,EAAKkB,UAAUC,SAAS,OAE1BF,GADAA,EAAgBA,EAAcjJ,QAAQ,QAAS,aACjBA,QAAQ,KAAM,SAG1CgI,EAAKkB,UAAUC,SAAS,OAE1BF,GADAA,EAAgBA,EAAcjJ,QAAQ,QAAS,aACjBA,QAAQ,KAAM,SAG9C6I,EAAUO,WAAaH,EACvBJ,EAAU9J,GAAV,OAAsB4J,EACtBE,EAAUX,UAAY,aAEfW,GAGHQ,EAAmB,SAASV,GAChC,MAAO,SAAWA,GAGdI,EAAuB,SAASF,EAAWF,GAC/C,IAAM9N,EAASqE,SAASyI,cAAc,IAAM0B,EAAiBV,IAC7DE,EAAUS,iBAAiB,SAAS,kBAClCrJ,OAAOsJ,SAAS,CACdC,IAAK3O,EAAO4O,UAAY,GACxBC,SAAU,eAoBVC,EAAsB,WAC1B,IAAMC,EAAW1K,SAASyI,cAAc,cAEpCkC,EAAiB,EACjBD,IACFC,EAAiBD,EAASE,cAG5B,IAAMC,EACJ9J,OAAO+J,QAAU/J,OAAOgK,YAAc,EAAIJ,EAE5C,OAAO,EAAIhC,GAAOpJ,QAAO,SAAC4J,EAAKC,GAC7B,OAAIyB,EAAe1B,EAAIoB,WAAaM,EAAezB,EAAImB,WAInDpB,EAAIoB,UAAYM,GAAgBA,GAAgBzB,EAAImB,UAH/CpB,EAOFC,MAIL4B,EAAgC,SAASC,GAC7C,IAAMxB,EAAcyB,EAAgBD,GAEpC,OAAOjL,SAASyI,cAAT,QAA+BgB,IAGlCyB,EAAkB,SAASpC,GAC/B,IAAMqC,EAASrC,EAAKjJ,GAAGuL,MAAM,KAC7B,OAAO/B,SAAS8B,EAAOA,EAAOrP,OAAS,KASnCuP,EAA0B,SAASpJ,GACvCqJ,MAAMrP,UAAUiJ,MAAM/I,KAAKqM,EAAgB+C,UAAU9K,SAAQ,SAAAX,GAC3DA,EAAMkJ,UAAUwC,OAAOvJ,OAIrBwJ,EAAmB,SAAStD,GAChC,IAAMuD,EAAgBR,EAAgB/C,GAChCwD,EAAoBC,EAAkBzD,GAE5CkD,EAAwB,qBACxBQ,EAAoBF,EAAmBD,IAOnCG,EAAsB,SAAtBA,EACJF,EACAG,GAEA,KAAIH,GAAqB,GAAKG,EAAuB,GAArD,CAIA,IAAMC,EAAgB/L,SAASyI,cAAT,QACZqD,GAIV,GAAIH,GAFyBC,EAAkBG,GAG7C,OAAOF,EAAoBF,EAAmBG,EAAuB,GAGvEC,EAAc/C,UAAUc,IAAI,qBAC5B+B,EAAoBF,EAAoB,EAAGG,EAAuB,KAG9DF,EAAoB,SAASzD,GACjC,IAAM6D,EAAU7D,EAAOa,UACvB,OAAIgD,EAAQ/C,SAAS,eACZ,EAGL+C,EAAQ/C,SAAS,eACZ,EAGL+C,EAAQ/C,SAAS,eACZ,EAGF,GAoCT,MAAO,CACLpB,sBAzP4B,WAC5B,OAAwB,IAAjBc,EAAM7M,QAyPbgM,oBAtP0B,WAC1BU,EAAgBQ,UAAUc,IAAI,iBAAkB,QAAS,kBAsPzD9B,sBA3O4B,WAO5B,MAN6B,CAC3BiE,GAAIlF,EAAUK,WACd8E,GAAInF,EAAUO,WACd6E,GAAIpF,EAAUQ,YAIO2B,IAAkBI,UAAYvC,EAAUS,YAoO/DS,kBArNwB,SAASL,GACjCe,EAAMlI,SAAQ,SAACqI,EAAMW,GACnB,IAAI2C,EAEJxE,EAASnH,SAAQ,SAAC+I,EAAOxN,GACnB8M,EAAKuD,QAAL,IAAiBrQ,KACnBoQ,EAAW7C,EAAqBC,EAAOV,EAAMW,OAIjDjB,EAAgBjI,YAAY6L,OA4M9BrE,cAtJoB,WACpBY,EAAMlI,SAAQ,SAACqI,EAAMW,GACnBX,EAAKjJ,GAAKsK,EAAiBV,OAqJ7BrB,gBAjJsB,WACtB,GAAoB,GAAhBO,EAAM7M,OAAV,CAIA,IAAMmP,EAAcR,IACpB,OAAOO,EAA8BC,KA4IrC5C,gBAtGsB,SAASF,GAC/BkD,EAAwB,cACxBlD,EAAOa,UAAUc,IAAI,cACrB2B,EAAiBtD,IAoGjBG,mBArCyB,SAASH,GAClCK,EAAgB8D,OAAO,CACrBhC,IAAKnC,EAAOoC,UAA+C,GAAnCpC,EAAOoE,aAAa3B,aAC5CJ,SAAU,YAmCZjC,sBA/B4B,WAC5B,IAAMiE,EAAmBxM,SAASyM,gBAAgBC,UAE5CC,EAAS3M,SAASyI,cAAc,SAElCmE,EAAYC,OAAO9K,iBACnB4K,IACFC,EAAYD,EAAOpC,WAGrB,IAAMuC,EAAqBN,EAAmBhE,EAAgBoC,aAE9DpC,EAAgBQ,UAAUwC,OAAO,gBAAiB,kBAE9CsB,GAAsBF,EACxBpE,EAAgBQ,UAAUc,IAAI,kBAIhCtB,EAAgBQ,UAAUc,IAAI,oBA4B3B,CACLnC,KAXW,WACX,IAAMoF,EAAa,IAAIlG,EACvBkG,EAAWpF,OACXf,EAAoBmG,GASpB7E,SANe,WACftB,EAAkBsB,cCrUT8E,GA5CE,sBAAsC,IAAnCC,EAAkC,EAAlCA,KAAM7I,EAA4B,EAA5BA,YAAazC,EAAe,EAAfA,SACnCkE,qBAAU,WAQR,OAPAqH,MAEAzF,EAASE,OACT5G,OAAOmH,SAAW,WAChBT,EAASS,YAGJ,kBAAMgF,SACZ,IAEH,IAAM7H,EAAO4H,EAAKE,eACZC,EAAWH,EAAKI,KAAKC,aACnB/L,EAA6C6L,EAA7C7L,MAAOgM,EAAsCH,EAAtCG,QAAShI,EAA6B6H,EAA7B7H,QAASnC,EAAoBgK,EAApBhK,OAAQoK,EAAYJ,EAAZI,QACjCC,EAAgCF,EAAhCE,gBAAiBvH,EAAeqH,EAAfrH,WAfyB,EAgBfb,EAAKX,YAAzBgJ,EAhBmC,EAgB1CnM,MAAkBa,EAhBwB,EAgBxBA,KAE1B,OACE,kBAAC,IAAD,CAAQT,SAAUA,EAAUJ,MAAOA,GACjC,kBAAC,IAAD,CAAMA,MAAOmM,EAAWC,YAAatI,EAAKuI,UAC1C,kBAAC,EAAD,CAAWrM,MAAOmM,IAClB,kBAAC,EAAD,CAAUtL,KAAMA,IAChB,kBAAC,EAAD,CAAeE,KAAM+C,EAAK/C,OAC1B,kBAAC,EAAD,CAAaf,MAAOmM,EAAWtK,OAAQA,MACpCoK,EAAQK,gBACT,kBAAC,EAAD,CAAe5J,UAAWuJ,EAAQK,iBAEpC,kBAAC,EAAD,MACA,kBAAC,IAAD,MACA,kBAAC,EAAD,CAAezJ,YAAaA,MACzBqJ,GACD,kBAAC,EAAD,CACEpI,KAAMA,EACNC,UAAWmI,EACXlI,QAASA,EACTd,KAAML,EAAYK,SAGnByB,GAAc,kBAAC,EAAD,CAAYT,KAAMS,MAKnB","file":"component---src-templates-blog-post-js-05b002f315b6e998bba3.js","sourcesContent":["'use strict';\n\nmodule.exports = require('./components/DisqusThread');","'use strict';\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar DISQUS_CONFIG = ['shortname', 'identifier', 'title', 'url', 'category_id', 'onNewComment', 'language'];\nvar __disqusAdded = false;\n\nfunction copyProps(context, props) {\n  var onNewComment = props.onNewComment,\n      language = props.language,\n      rest = _objectWithoutProperties(props, ['onNewComment', 'language']);\n\n  for (var prop in rest) {\n    context.page[prop] = rest[prop];\n  } // Setting the language - if none is provided, the default one is used\n\n\n  context.language = language;\n\n  if (onNewComment) {\n    context.callbacks = {\n      onNewComment: [onNewComment]\n    };\n  }\n}\n\nvar DisqusThread = function (_React$Component) {\n  _inherits(DisqusThread, _React$Component);\n\n  function DisqusThread() {\n    _classCallCheck(this, DisqusThread);\n\n    return _possibleConstructorReturn(this, (DisqusThread.__proto__ || Object.getPrototypeOf(DisqusThread)).apply(this, arguments));\n  }\n\n  _createClass(DisqusThread, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadDisqus();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.loadDisqus();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return nextProps.identifier !== this.props.identifier;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var props = Object.keys(this.props).reduce(function (memo, key) {\n        return DISQUS_CONFIG.some(function (config) {\n          return config === key;\n        }) ? memo : _extends({}, memo, _defineProperty({}, key, _this2.props[key]));\n      }, {});\n      return _react2[\"default\"].createElement('div', props, _react2[\"default\"].createElement('div', {\n        id: 'disqus_thread'\n      }));\n    }\n  }, {\n    key: 'addDisqusScript',\n    value: function addDisqusScript() {\n      if (__disqusAdded) {\n        return;\n      }\n\n      var child = this.disqus = document.createElement('script');\n      var parent = document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0];\n      child.async = true;\n      child.type = 'text/javascript';\n      child.src = '//' + this.props.shortname + '.disqus.com/embed.js';\n      parent.appendChild(child);\n      __disqusAdded = true;\n    }\n  }, {\n    key: 'loadDisqus',\n    value: function loadDisqus() {\n      var _this3 = this;\n\n      var props = {}; // Extract Disqus props that were supplied to this component\n\n      DISQUS_CONFIG.forEach(function (prop) {\n        // prop \"shortname\" is only necessary for loading the script, not for the config itself\n        if (prop !== 'shortname' && !!_this3.props[prop]) {\n          props[prop] = _this3.props[prop];\n        }\n      }); // If Disqus has already been added, reset it\n\n      if (typeof DISQUS !== 'undefined') {\n        DISQUS.reset({\n          reload: true,\n          config: function config() {\n            copyProps(this, props); // Disqus needs hashbang URL, see https://help.disqus.com/customer/portal/articles/472107\n\n            this.page.url = this.page.url.replace(/#/, '') + '#!newthread';\n          }\n        });\n      } else {\n        // Otherwise add Disqus to the page\n        window.disqus_config = function () {\n          copyProps(this, props);\n        };\n\n        this.addDisqusScript();\n      }\n    }\n  }]);\n\n  return DisqusThread;\n}(_react2[\"default\"].Component);\n\nDisqusThread.displayName = 'DisqusThread';\nDisqusThread.propTypes = {\n  id: _propTypes2[\"default\"].string,\n\n  /**\n   * `shortname` tells the Disqus service your forum's shortname,\n   * which is the unique identifier for your website as registered\n   * on Disqus. If undefined , the Disqus embed will not load.\n   */\n  shortname: _propTypes2[\"default\"].string.isRequired,\n\n  /**\n   * `identifier` tells the Disqus service how to identify the\n   * current page. When the Disqus embed is loaded, the identifier\n   * is used to look up the correct thread. If disqus_identifier\n   * is undefined, the page's URL will be used. The URL can be\n   * unreliable, such as when renaming an article slug or changing\n   * domains, so we recommend using your own unique way of\n   * identifying a thread.\n   */\n  identifier: _propTypes2[\"default\"].string,\n\n  /**\n   * `title` tells the Disqus service the title of the current page.\n   * This is used when creating the thread on Disqus for the first time.\n   * If undefined, Disqus will use the <title> attribute of the page.\n   * If that attribute could not be used, Disqus will use the URL of the page.\n   */\n  title: _propTypes2[\"default\"].string,\n\n  /**\n   * `url` tells the Disqus service the URL of the current page.\n   * If undefined, Disqus will take the window.location.href.\n   * This URL is used to look up or create a thread if disqus_identifier\n   * is undefined. In addition, this URL is always saved when a thread is\n   * being created so that Disqus knows what page a thread belongs to.\n   */\n  url: _propTypes2[\"default\"].string,\n\n  /**\n   * `category_id` tells the Disqus service the category to be used for\n   * the current page. This is used when creating the thread on Disqus\n   * for the first time.\n   */\n  category_id: _propTypes2[\"default\"].string,\n\n  /**\n   * `onNewComment` function accepts one parameter `comment` which is a\n   * JavaScript object with comment `id` and `text`. This allows you to track\n   * user comments and replies and run a script after a comment is posted.\n   */\n  onNewComment: _propTypes2[\"default\"].func,\n\n  /**\n   * `language` tells the Disqus service which language should be used.\n   * Please refer to https://www.transifex.com/disqus/disqus/ on which languages can be used\n   * If undefined, English is used as default one\n   */\n  language: _propTypes2[\"default\"].string\n};\nDisqusThread.defaultProps = {\n  url: typeof window === 'undefined' ? null : window.location.href\n};\nexports[\"default\"] = DisqusThread;","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n","import React from 'react'\n\nimport './index.scss'\n\nexport const Hr = () => <hr className=\"custom-hr\" />\n","import React from 'react'\n\nexport const PostTitle = ({ title }) => <h1>{title}</h1>\n","import React from 'react'\n\nimport './index.scss'\n\nexport const PostDate = ({ date }) => {\n  return <p className=\"post-date\">{date}</p>\n}\n","import React from 'react'\nimport './index.scss'\n\nexport const PostContainer = ({ html }) => (\n  <div className=\"post-container\" dangerouslySetInnerHTML={{ __html: html }} />\n)\n","import React from 'react'\n\nimport './index.scss'\n\nexport const FacebookIcon = ({ onClick }) => (\n  <a\n    className=\"resp-sharing-button__link\"\n    href=\"#\"\n    target=\"_blank\"\n    rel=\"noopener\"\n    aria-label=\"Share on Facebook\"\n    onClick={onClick}\n  >\n    <div className=\"resp-sharing-button resp-sharing-button--facebook resp-sharing-button--large\">\n      <div\n        aria-hidden=\"true\"\n        className=\"resp-sharing-button__icon resp-sharing-button__icon--solid\"\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n          <path d=\"M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z\" />\n        </svg>\n      </div>\n      <span className=\"service-label\">Share on Facebook</span>\n    </div>\n  </a>\n)\n","import React from 'react'\n\nimport './index.scss'\n\nexport const TwitterIcon = ({ onClick }) => (\n  <a\n    className=\"resp-sharing-button__link\"\n    href=\"#\"\n    rel=\"noopener\"\n    aria-label=\"Share on Twitter\"\n    onClick={onClick}\n  >\n    <div className=\"resp-sharing-button resp-sharing-button--twitter resp-sharing-button--large\">\n      <div\n        aria-hidden=\"true\"\n        className=\"resp-sharing-button__icon resp-sharing-button__icon--solid\"\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n          <path d=\"M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z\" />\n        </svg>\n      </div>\n      <span className=\"service-label\">Share on Twitter</span>\n    </div>\n  </a>\n)\n","import React from 'react'\nimport { FacebookIcon } from './facebook-icon'\nimport { TwitterIcon } from './twitter-icon'\nimport { shareToTwitter, shareToFacebook } from '../../utils/share'\n\nimport './index.scss'\n\nexport const SocialShare = ({ title, author }) => {\n  const text = `Recommend on \"${title}\" written by @${author}`\n\n  const onClickTwitterIcon = e => {\n    e.preventDefault()\n\n    return shareToTwitter(window.location.href, text)\n  }\n\n  const onClickFacebookIcon = e => {\n    e.preventDefault()\n    return shareToFacebook(window.location.href, text)\n  }\n\n  return (\n    <div className=\"social-share\">\n      <FacebookIcon onClick={onClickFacebookIcon} />\n      <TwitterIcon onClick={onClickTwitterIcon} />\n    </div>\n  )\n}\n","export const shareToFacebook = (href, text) => {\n  window.FB.ui({\n    method: 'share',\n    mobile_iframe: true,\n    href,\n    quote: text,\n  })\n}\n\nexport const shareToTwitter = (href, text) => {\n  window.open(\n    `https://twitter.com/share?url=${encodeURI(encodeURI(href))}&text=${text}`,\n    'sharer',\n    'toolbar=0,status=0,width=626,height=436'\n  )\n}\n","import React from 'react'\n\nimport './index.scss'\n\nexport const SponsorButton = ({ sponsorId }) => (\n  <div className=\"sponsor-button\">\n    <a\n      className=\"bmc-button\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={`https://www.buymeacoffee.com/${sponsorId}`}\n    >\n      <img\n        src=\"https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg\"\n        alt=\"Buy me a coffee\"\n      />\n      <span>Buy me a coffee</span>\n    </a>\n  </div>\n)\n","import React from 'react'\nimport { Link } from 'gatsby'\n\nimport './index.scss'\n\nexport const PostNavigator = ({ pageContext }) => {\n  const { previous, next } = pageContext\n\n  return (\n    <ul className=\"navigator\">\n      <li>\n        {previous && (\n          <Link to={previous.fields.slug} rel=\"prev\">\n            ← {previous.frontmatter.title}\n          </Link>\n        )}\n      </li>\n      <li>\n        {next && (\n          <Link to={next.fields.slug} rel=\"next\">\n            {next.frontmatter.title} →\n          </Link>\n        )}\n      </li>\n    </ul>\n  )\n}\n","import React, { Component } from 'react'\nimport ReactDisqusComments from 'react-disqus-comments'\n\nexport class Disqus extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { toasts: [] }\n    this.notifyAboutComment = this.notifyAboutComment.bind(this)\n    this.onSnackbarDismiss = this.onSnackbarDismiss.bind(this)\n  }\n\n  onSnackbarDismiss() {\n    const [, ...toasts] = this.state.toasts\n    this.setState({ toasts })\n  }\n\n  notifyAboutComment() {\n    const toasts = this.state.toasts.slice()\n    toasts.push({ text: 'New comment available!!' })\n    this.setState({ toasts })\n  }\n\n  render() {\n    const { post, shortName, siteUrl, slug } = this.props\n    const url = siteUrl + slug\n\n    return (\n      <ReactDisqusComments\n        shortname={shortName}\n        identifier={post.frontmatter.title}\n        title={post.frontmatter.title}\n        url={url}\n        category_id={post.frontmatter.category_id}\n        onNewComment={this.notifyAboutComment}\n      />\n    )\n  }\n}\n","import React, { useEffect } from 'react'\n\nimport * as Dom from '../../utils/dom'\nimport { THEME } from '../../constants'\n\nconst src = 'https://utteranc.es/client.js'\nconst branch = 'master'\nconst DARK_THEME = 'photon-dark'\nconst LIGHT_THEME = 'github-light'\n\nexport const Utterances = ({ repo }) => {\n  const rootElm = React.createRef()\n\n  useEffect(() => {\n    const isDarkTheme = Dom.hasClassOfBody(THEME.DARK)\n    const utterances = document.createElement('script')\n    const utterancesConfig = {\n      src,\n      repo,\n      branch,\n      theme: isDarkTheme ? DARK_THEME : LIGHT_THEME,\n      label: 'comment',\n      async: true,\n      'issue-term': 'pathname',\n      crossorigin: 'anonymous',\n    }\n\n    Object.keys(utterancesConfig).forEach(configKey => {\n      utterances.setAttribute(configKey, utterancesConfig[configKey])\n    })\n    rootElm.current.appendChild(utterances)\n  }, [])\n\n  return <div className=\"utterances\" ref={rootElm} />\n}\n","/*\n * Tistory TOC (Table Of Contents)\n * dev by wbluke (https://wbluke.github.io)\n * last update 2022.02.02\n * version 0.1.8\n */\n\nconst CLASS_OF_MAIN_CONTENTS = '.post-container'\n\nconst CONSTANTS = (function() {\n  const KEY_OF_H1 = 1\n  const KEY_OF_H2 = 2\n  const KEY_OF_H3 = 3\n  const KEY_OF_H4 = 4\n\n  const LEVEL_1 = 1\n  const LEVEL_2 = 2\n  const LEVEL_3 = 3\n  const LEVEL_4 = 4\n\n  /* 최상위 태그에 따른 레벨 Map */\n  const levelsByH1 = function() {\n    return new Map([\n      [KEY_OF_H1, LEVEL_1],\n      [KEY_OF_H2, LEVEL_2],\n      [KEY_OF_H3, LEVEL_3],\n      [KEY_OF_H4, LEVEL_4],\n    ])\n  }\n\n  const levelsByH2 = function() {\n    return new Map([\n      [KEY_OF_H2, LEVEL_1],\n      [KEY_OF_H3, LEVEL_2],\n      [KEY_OF_H4, LEVEL_3],\n    ])\n  }\n\n  const levelsByH3 = function() {\n    return new Map([\n      [KEY_OF_H3, LEVEL_1],\n      [KEY_OF_H4, LEVEL_2],\n    ])\n  }\n\n  const levelsByH4 = function() {\n    return new Map([[KEY_OF_H4, LEVEL_1]])\n  }\n\n  return {\n    indexOfH1: KEY_OF_H1,\n    indexOfH2: KEY_OF_H2,\n    indexOfH3: KEY_OF_H3,\n    indexOfH4: KEY_OF_H4,\n    levelsByH1: levelsByH1(),\n    levelsByH2: levelsByH2(),\n    levelsByH3: levelsByH3(),\n    levelsByH4: levelsByH4(),\n  }\n})()\n\nexport const TOC_CARD = (function() {\n  const TocCardController = function() {\n    const tocCardService = new TocCardService()\n\n    const initTocElementsCard = function() {\n      tocCardService.initTocElementsCard()\n    }\n\n    const giveIdToHTags = function() {\n      tocCardService.giveIdToHTags()\n    }\n\n    const registerHTagsOnTocCard = function() {\n      const levelMap = tocCardService.getLevelsByHighestTag()\n\n      tocCardService.registerTagsOnToc(levelMap)\n    }\n\n    const init = function() {\n      const existsHTags = tocCardService.checkExistenceOfHTags()\n      if (existsHTags) {\n        initTocElementsCard()\n        giveIdToHTags()\n        registerHTagsOnTocCard()\n      }\n    }\n\n    const onscroll = function() {\n      const tocTag = tocCardService.findCurrentHTag()\n\n      if (tocTag) {\n        tocCardService.markCurrentHTag(tocTag)\n        tocCardService.scrollToMainTocTag(tocTag)\n        tocCardService.detectTocCardPosition()\n      }\n    }\n\n    return {\n      init,\n      onscroll,\n    }\n  }\n\n  const TocCardService = function() {\n    const tocElementsCard = document.querySelector('#toc-elements')\n\n    const mainContents = document.querySelector(CLASS_OF_MAIN_CONTENTS)\n\n    const hTags = (function() {\n      const foundHTags = mainContents\n        ? mainContents.querySelectorAll('h1, h2, h3, h4')\n        : []\n\n      /* 글 내용 밑에 있는 [...카테고리의 다른 글] h4 제거 */\n      return [...foundHTags].filter(\n        hTag => !hTag.parentElement.classList.contains('another_category')\n      )\n    })()\n\n    /* h1, h2, h3, h4 태그가 있는지 확인한다 */\n    const checkExistenceOfHTags = function() {\n      return hTags.length !== 0\n    }\n\n    const initTocElementsCard = function() {\n      tocElementsCard.classList.add('toc-app-common', 'items', 'toc-app-basic')\n    }\n\n    /** 최상위 태그에 따른 레벨 Map 받아오기\n     *\n     * h1 ~ h4 태그 중 가장 높은 태그를 찾아서 그에 맞게 Level을 설정한다.\n     * 예를 들어, h1 태그가 없고 h2, h3 태그만 있는 경우\n     * h2가 가장 높은 태그이며, 해당 태그 h2에 LEVEL_1을 부여하고 그 다음 태그인 h3에는 LEVEL_2를 부여한다.\n     *\n     * 부여된 Level에 따라 적용되는 CSS가 달라진다.\n     * */\n    const getLevelsByHighestTag = function() {\n      const levelMapByHighestTag = {\n        H1: CONSTANTS.levelsByH1,\n        H2: CONSTANTS.levelsByH2,\n        H3: CONSTANTS.levelsByH3,\n      }\n\n      return (\n        levelMapByHighestTag[findHighestHTag().tagName] || CONSTANTS.levelsByH4\n      )\n    }\n\n    /* 최상위 태그 판별 작업 */\n    const findHighestHTag = function() {\n      return [...hTags].reduce((pre, cur) => {\n        const tagNumOfPre = parseInt(pre.tagName[1])\n        const tagNumOfCur = parseInt(cur.tagName[1])\n\n        return tagNumOfPre < tagNumOfCur ? pre : cur\n      })\n    }\n\n    /* TOC에 태그 삽입 */\n    const registerTagsOnToc = function(levelMap) {\n      hTags.forEach((hTag, indexOfHTag) => {\n        let hTagItem\n\n        levelMap.forEach((level, key) => {\n          if (hTag.matches(`h${key}`)) {\n            hTagItem = createTagItemByLevel(level, hTag, indexOfHTag)\n          }\n        })\n\n        tocElementsCard.appendChild(hTagItem)\n      })\n    }\n\n    const createTagItemByLevel = function(\n      level = CONSTANTS.NUM_OF_H1,\n      hTag,\n      indexOfHTag\n    ) {\n      const basicItem = createBasicItemBy(hTag, indexOfHTag)\n\n      appendScrollEventsOn(basicItem, indexOfHTag)\n\n      basicItem.classList.add(`toc-level-${level}`)\n\n      return basicItem\n    }\n\n    const createBasicItemBy = function(hTag, indexOfHTag) {\n      const basicItem = document.createElement('a')\n      let hTagInnerText = hTag.innerText\n\n      /* H tag 내용에 부등호 괄호가 포함되어 있을 때, 이를 html 특수문자 코드로 변경 */\n      if (hTag.innerText.includes('<')) {\n        hTagInnerText = hTagInnerText.replace(/&lt;/g, '&amp;lt;')\n        hTagInnerText = hTagInnerText.replace(/</g, '&lt;')\n      }\n\n      if (hTag.innerText.includes('>')) {\n        hTagInnerText = hTagInnerText.replace(/&gt;/g, '&amp;gt;')\n        hTagInnerText = hTagInnerText.replace(/>/g, '&gt;')\n      }\n\n      basicItem.innerHTML += hTagInnerText\n      basicItem.id = `toc-${indexOfHTag}`\n      basicItem.classList = 'toc-common'\n\n      return basicItem\n    }\n\n    const generateIdOfHTag = function(indexOfHTag) {\n      return 'h-tag-' + indexOfHTag\n    }\n\n    const appendScrollEventsOn = function(basicItem, indexOfHTag) {\n      const target = document.querySelector('#' + generateIdOfHTag(indexOfHTag))\n      basicItem.addEventListener('click', () =>\n        window.scrollTo({\n          top: target.offsetTop - 10,\n          behavior: 'smooth',\n        })\n      )\n    }\n\n    const giveIdToHTags = function() {\n      hTags.forEach((hTag, indexOfHTag) => {\n        hTag.id = generateIdOfHTag(indexOfHTag)\n      })\n    }\n\n    const findCurrentHTag = function() {\n      if (hTags.length == 0) {\n        return undefined\n      }\n\n      const currentHTag = findCurrentMainHTag()\n      return findTocTagCorrespondingToHTag(currentHTag)\n    }\n\n    const findCurrentMainHTag = function() {\n      const headArea = document.querySelector('.area_head')\n\n      let headAreaHeight = 0\n      if (headArea) {\n        headAreaHeight = headArea.offsetHeight\n      }\n\n      const middleHeight =\n        window.scrollY + window.innerHeight / 4 - headAreaHeight\n\n      return [...hTags].reduce((pre, cur) => {\n        if (middleHeight < pre.offsetTop && middleHeight < cur.offsetTop) {\n          return pre\n        }\n\n        if (pre.offsetTop < middleHeight && middleHeight <= cur.offsetTop) {\n          return pre\n        }\n\n        return cur\n      })\n    }\n\n    const findTocTagCorrespondingToHTag = function(currentHTag) {\n      const indexOfHTag = parseIndexOfTag(currentHTag)\n\n      return document.querySelector(`#toc-${indexOfHTag}`)\n    }\n\n    const parseIndexOfTag = function(hTag) {\n      const tokens = hTag.id.split('-')\n      return parseInt(tokens[tokens.length - 1])\n    }\n\n    const markCurrentHTag = function(tocTag) {\n      removeAllClassOnTocTags('toc-active')\n      tocTag.classList.add('toc-active')\n      markParentHTagOf(tocTag)\n    }\n\n    const removeAllClassOnTocTags = function(className) {\n      Array.prototype.slice.call(tocElementsCard.children).forEach(child => {\n        child.classList.remove(className)\n      })\n    }\n\n    const markParentHTagOf = function(tocTag) {\n      const indexOfTocTag = parseIndexOfTag(tocTag)\n      const levelOfBaseTocTag = findLevelOfTocTag(tocTag)\n\n      removeAllClassOnTocTags('toc-parent-active')\n      compareLevelAndMark(levelOfBaseTocTag, indexOfTocTag)\n    }\n\n    /**\n     * 현재 active 태그의 부모 레벨 태그를 표시\n     * 기준 태그(active 태그)애서 하나씩 위로 올라가면서 부모 태그를 탐색 (재귀)\n     * */\n    const compareLevelAndMark = function(\n      levelOfBaseTocTag,\n      indexOfCurrentTocTag\n    ) {\n      if (levelOfBaseTocTag <= 1 || indexOfCurrentTocTag < 0) {\n        return\n      }\n\n      const currentTocTag = document.querySelector(\n        `#toc-${indexOfCurrentTocTag}`\n      )\n      const levelOfCurrentTocTag = findLevelOfTocTag(currentTocTag)\n\n      if (levelOfBaseTocTag <= levelOfCurrentTocTag) {\n        return compareLevelAndMark(levelOfBaseTocTag, indexOfCurrentTocTag - 1)\n      }\n\n      currentTocTag.classList.add('toc-parent-active')\n      compareLevelAndMark(levelOfBaseTocTag - 1, indexOfCurrentTocTag - 1)\n    }\n\n    const findLevelOfTocTag = function(tocTag) {\n      const classes = tocTag.classList\n      if (classes.contains('toc-level-4')) {\n        return 4\n      }\n\n      if (classes.contains('toc-level-3')) {\n        return 3\n      }\n\n      if (classes.contains('toc-level-2')) {\n        return 2\n      }\n\n      return 1\n    }\n\n    /**\n     * TOC 항목이 너무 많아 TOC Card에 스크롤이 생길 경우,\n     * 스크롤 이벤트에 따라 활성화된 TOC 태그가 보이도록 TOC Card의 스크롤도 함께 이동한다.\n     */\n    const scrollToMainTocTag = function(tocTag) {\n      tocElementsCard.scroll({\n        top: tocTag.offsetTop - tocTag.offsetParent.offsetHeight * 0.3,\n        behavior: 'smooth',\n      })\n    }\n\n    const detectTocCardPosition = function() {\n      const currentScrollTop = document.documentElement.scrollTop\n\n      const footer = document.querySelector('#mEtc')\n\n      let footerTop = Number.MAX_SAFE_INTEGER\n      if (footer) {\n        footerTop = footer.offsetTop\n      }\n\n      const elementsCardBottom = currentScrollTop + tocElementsCard.offsetHeight\n\n      tocElementsCard.classList.remove('toc-app-basic', 'toc-app-bottom')\n\n      if (elementsCardBottom >= footerTop) {\n        tocElementsCard.classList.add('toc-app-bottom')\n        return\n      }\n\n      tocElementsCard.classList.add('toc-app-basic')\n    }\n\n    return {\n      checkExistenceOfHTags,\n      initTocElementsCard,\n      getLevelsByHighestTag,\n      registerTagsOnToc,\n      giveIdToHTags,\n      findCurrentHTag,\n      markCurrentHTag,\n      scrollToMainTocTag,\n      detectTocCardPosition,\n    }\n  }\n\n  let tocCardController\n\n  const init = function() {\n    const controller = new TocCardController()\n    controller.init()\n    tocCardController = controller\n  }\n\n  const onscroll = function() {\n    tocCardController.onscroll()\n  }\n\n  return {\n    init,\n    onscroll,\n  }\n})()\n","import React, { useEffect } from 'react'\nimport { graphql } from 'gatsby'\n\nimport * as Elements from '../components/elements'\nimport { Layout } from '../layout'\nimport { Head } from '../components/head'\nimport { PostTitle } from '../components/post-title'\nimport { PostDate } from '../components/post-date'\nimport { PostContainer } from '../components/post-container'\nimport { SocialShare } from '../components/social-share'\nimport { SponsorButton } from '../components/sponsor-button'\nimport { Bio } from '../components/bio'\nimport { PostNavigator } from '../components/post-navigator'\nimport { Disqus } from '../components/disqus'\nimport { Utterances } from '../components/utterances'\nimport * as ScrollManager from '../utils/scroll'\n\nimport '../styles/code.scss'\nimport 'katex/dist/katex.min.css'\nimport '../styles/toc.css'\nimport { TOC_CARD } from '../utils/toc'\n\nexport default ({ data, pageContext, location }) => {\n  useEffect(() => {\n    ScrollManager.init()\n\n    TOC_CARD.init()\n    window.onscroll = function() {\n      TOC_CARD.onscroll()\n    }\n\n    return () => ScrollManager.destroy()\n  }, [])\n\n  const post = data.markdownRemark\n  const metaData = data.site.siteMetadata\n  const { title, comment, siteUrl, author, sponsor } = metaData\n  const { disqusShortName, utterances } = comment\n  const { title: postTitle, date } = post.frontmatter\n\n  return (\n    <Layout location={location} title={title}>\n      <Head title={postTitle} description={post.excerpt} />\n      <PostTitle title={postTitle} />\n      <PostDate date={date} />\n      <PostContainer html={post.html} />\n      <SocialShare title={postTitle} author={author} />\n      {!!sponsor.buyMeACoffeeId && (\n        <SponsorButton sponsorId={sponsor.buyMeACoffeeId} />\n      )}\n      <Elements.Hr />\n      <Bio />\n      <PostNavigator pageContext={pageContext} />\n      {!!disqusShortName && (\n        <Disqus\n          post={post}\n          shortName={disqusShortName}\n          siteUrl={siteUrl}\n          slug={pageContext.slug}\n        />\n      )}\n      {!!utterances && <Utterances repo={utterances} />}\n    </Layout>\n  )\n}\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n        siteUrl\n        comment {\n          disqusShortName\n          utterances\n        }\n        sponsor {\n          buyMeACoffeeId\n        }\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 280)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n      }\n    }\n  }\n`\n"],"sourceRoot":""}